<!DOCTYPE html>
<html>
<head>
    <title>Display Test</title>
    <style>
        body { 
            background: black; 
            color: white; 
            font-family: Arial; 
            margin: 20px;
        }
    </style>
</head>
<body>
    <div id="status">Status: Not Started</div>
    <button onclick="startTest()">Start Test</button>
    <div id="result"></div>

    <script>
        const statusDiv = document.getElementById('status');
        const resultDiv = document.getElementById('result');

        function startTest() {
            statusDiv.textContent = "Status: Testing...";
            
            if (!navigator.mediaDevices) {
                statusDiv.textContent = "Status: mediaDevices not supported";
                return;
            }

            if (!navigator.mediaDevices.getDisplayMedia) {
                statusDiv.textContent = "Status: getDisplayMedia not supported";
                return;
            }

            statusDiv.textContent = "Status: API supported, click OK on the next prompt";
            
            navigator.mediaDevices.getDisplayMedia({ video: true })
                .then(stream => {
                    statusDiv.textContent = "Status: Success! Got display media stream";
                    resultDiv.textContent = "Stream active: " + stream.active;
                })
                .catch(err => {
                    statusDiv.textContent = "Status: Error - " + err.message;
                });
        }
    </script>
</body>
</html>
