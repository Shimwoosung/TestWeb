<!DOCTYPE html>
<html>
<head>
    <title>Display Test</title>
</head>
<body style="background: black; color: white;">
    <h1>Display Test</h1>
    <button onclick="testMedia()">Test Display Capture</button>
    <p id="log">Page loaded</p>

    <script>
        function testMedia() {
            let log = document.getElementById('log');
            
            // 1단계: mediaDevices 확인
            if (navigator.mediaDevices) {
                log.innerHTML += '<br>mediaDevices exists';
            } else {
                log.innerHTML += '<br>no mediaDevices';
                return;
            }
            
            // 2단계: getDisplayMedia 확인
            if (navigator.mediaDevices.getDisplayMedia) {
                log.innerHTML += '<br>getDisplayMedia exists';
                
                // 3단계: 실제 호출 시도
                navigator.mediaDevices.getDisplayMedia({ video: true })
                    .then(stream => {
                        log.innerHTML += '<br>Successfully got stream';
                    })
                    .catch(err => {
                        log.innerHTML += '<br>Error: ' + err;
                    });
            } else {
                log.innerHTML += '<br>no getDisplayMedia';
            }
        }
    </script>
</body>
</html>
